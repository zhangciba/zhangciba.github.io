<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="正则表达式," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="一、使用正则表达式的命令使用正则表达式的命令最常见的就是 / （搜索）命令。其格式如下：/正则表达式另一个很有用的命令就是 :s（替换）命令，将第一个//之间的正则表达式替换成第二个//之间的字符串。:s/正则表达式/替换字符串/选项在学习正则表达式时可以利用 / 命令来练习。二、元字符元字符是具有特殊意义的字符。使用元字符可以表达任意字符、行首、行 尾、某几个字符等意义。元字符一览元字符">
<meta property="og:type" content="article">
<meta property="og:title" content="VIM正则表达式简要介绍">
<meta property="og:url" content="http://blog.zhangchi.xyz/2017/05/11/VIM正则表达式简要介绍/index.html">
<meta property="og:site_name" content="DIYER糍粑的博客">
<meta property="og:description" content="一、使用正则表达式的命令使用正则表达式的命令最常见的就是 / （搜索）命令。其格式如下：/正则表达式另一个很有用的命令就是 :s（替换）命令，将第一个//之间的正则表达式替换成第二个//之间的字符串。:s/正则表达式/替换字符串/选项在学习正则表达式时可以利用 / 命令来练习。二、元字符元字符是具有特殊意义的字符。使用元字符可以表达任意字符、行首、行 尾、某几个字符等意义。元字符一览元字符">
<meta property="og:updated_time" content="2017-05-17T03:24:55.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="VIM正则表达式简要介绍">
<meta name="twitter:description" content="一、使用正则表达式的命令使用正则表达式的命令最常见的就是 / （搜索）命令。其格式如下：/正则表达式另一个很有用的命令就是 :s（替换）命令，将第一个//之间的正则表达式替换成第二个//之间的字符串。:s/正则表达式/替换字符串/选项在学习正则表达式时可以利用 / 命令来练习。二、元字符元字符是具有特殊意义的字符。使用元字符可以表达任意字符、行首、行 尾、某几个字符等意义。元字符一览元字符">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'NCCTAVOMGS',
      apiKey: '90a1b37d9db46c7ad69df6b94bd751b9',
      indexName: 'blog',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.zhangchi.xyz/2017/05/11/VIM正则表达式简要介绍/"/>





  <title>VIM正则表达式简要介绍 | DIYER糍粑的博客</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  















  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DIYER糍粑的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">快乐学习、快乐工作、快乐生活</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.zhangchi.xyz/2017/05/11/VIM正则表达式简要介绍/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZHANGCHI">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DIYER糍粑的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">VIM正则表达式简要介绍</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-11T08:56:30+08:00">
                2017-05-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>一、使用正则表达式的命令<br>使用正则表达式的命令最常见的就是 / （搜索）命令。其格式如下：<br>/正则表达式<br>另一个很有用的命令就是 :s（替换）命令，将第一个//之间的正则表达式替换成第二个//之间的字符串。<br>:s/正则表达式/替换字符串/选项<br>在学习正则表达式时可以利用 / 命令来练习。<br>二、元字符<br>元字符是具有特殊意义的字符。使用元字符可以表达任意字符、行首、行 尾、某几个字符等意义。<br>元字符一览<br>元字符    说明<br><a id="more"></a><br>.    匹配任意一个字符<br>[abc]    匹配方括号中的任意一个字符。可以使用-表示字符范围，<br>如[a-z0-9]匹 配小写字母和阿拉伯数字。<br>[^abc]    在方括号内开头使用^符号，表示匹配除方括号中字符之外的任意字符。<br>\d    匹配阿拉伯数字，等同于[0-9]。<br>\D    匹配阿拉伯数字之外的任意字符，等同于[^0-9]。<br>\x    匹配十六进制数字，等同于[0-9A-Fa-f]。<br>\X    匹配十六进制数字之外的任意字符，等同于[^0-9A-Fa-f]。<br>\w    匹配单词字母，等同于[0-9A-Za-z<em>]。<br>\W    匹配单词字母之外的任意字符，等同于[^0-9A-Za-z</em>]。<br>\t    匹配<tab>字符。<br>\s    匹配空白字符，等同于[ \t]。<br>\S    匹配非空白字符，等同于[^ \t]。<br>另外，如果要查找字符 <em>、.、/等，则需要在前面用 \ 符号，表示这不是元字符，而只是普通字符而已。<br>元字符    说明<br>\</em>    匹配 * 字符。<br>.    匹配 . 字符。<br>\/    匹配 / 字符。<br>\    匹配 \ 字符。<br>[    匹配 [ 字符。<br>表示数量的元字符<br>元字符    说明</tab></p>
<ul>
<li>匹配0-任意个<br>+    匹配1-任意个<br>\?    匹配0-1个<br>{n,m}    匹配n-m个<br>{n}    匹配n个<br>{n,}    匹配n-任意个<br>{,m}    匹配0-m个<br>表示位置的符号<br>元字符    说明<br>$    匹配行尾<br>^    匹配行首<br>\&lt;    匹配单词词首<br>>    匹配单词词尾<br>使用例<br>/char\s+[A-Za-z<em>]\w<em>; “ 查找所有以char开头，之后是一个以上的空白，<br>“ 最后是一个标识符和分号<br>/\d\d:\d\d:\d\d “ 查找如 17:37:01 格式的时间字符串<br>:g/^\s</em>$/d “ 删除只有空白的行<br>:s/\<four\>/4/g “ 将所有的four替换成4，但是fourteen中的four不替换<br>三、替换变量<br>在正规表达式中使用 ( 和 ) 符号括起正规表达式，即可在后面使用\1、\2 等变量来访问 ( 和 ) 中的内容。<br>使用例<br>/(a+)[^a]+\1 “ 查找开头和结尾处a的个数相同的字符串，<br>“ 如 aabbbaa，aaacccaaa，但是不匹配 abbbaa<br>:s/(http:\/\/[-a-z.</four\></em>~+%\/]+)/<a href="\1">\1&lt;\/a&gt;/ “ 将URL替换为<a href="http://url" target="_blank" rel="external">http://url</a>的格式<br>:s/(\w+)\s+(\w+)/\2\t\1 “ 将 data1 data2 修改为 data2 data1<br>四、函数式<br>在替换命令 s/// 中可以使用函数表达式来书写替换内容，格式为<br>:s/替换字符串/\=函数式<br>在函数式中可以使用 submatch(1)、submatch(2) 等来引用 \1、\2 等的内容，而submatch(0)可以引用匹配的整个内容。<br>使用例<br>:%s/\<id\>/\=line(“.”) “ 将各行的 id 字符串替换为行号<br>:%s/^\&lt;\w+>/\=(line(“.”)-10) .”.”. submatch(1) “ 将每行开头的单词替换为 (行号-10).单词 的格式，<br>“ 如第11行的 word 替换成 1. word<br>五、与Perl正则表达式的区别<br>元字符的区别<br>Vim语法    Perl语法    含义<br>+    +    1-任意个<br>\?    ?    0-1个<br>{n,m}    {n,m}    n-m个<br>(和)    (和)    分组</id\></a></li>
</ul>
<p>六、vi 正则表达式练习</p>
<p>闲言碎语不要讲…例子说明一切，比如下面这段我需要换成 ubb 标签<br>vim 命令模式，输入<br>:%s/.<em>src=”([^”]</em>)”[^&gt;]<em>&gt;/[img]1[/img]/g<br>替换为<br>[img ]gu.jpg[ /img]<br>[img ]os.jpg[ /img]<br>[img ]hu.jpg[ /img]<br>[img ]ang.jpg[ /img]<br>解释如下：<br>:<br>命令执行状态<br>%s<br>表示查找并替换<br>%s/a/b/g<br>a 被查找的字符串（正则匹配）；b 要替换成的文字；g 表示全局搜索替换（否则只处理找到的第一个结果）<br>([^”]</em>)<br>表示非引号的字符N个；外面 () 表示后面替换要用（用 1,…,9等引用）<br>[/img]<br>/ 需要被 转义<br>与其它工具正则不一样的地方在于 () 也必须 ()，怪不得我老是弄不出来。<br>相关资料：<br>via <a href="http://net.pku.edu.cn/~yhf/tao_regexps_zh.html" target="_blank" rel="external">http://net.pku.edu.cn/~yhf/tao_regexps_zh.html</a><br>vi 命令 作用<br>:%s/ <em>/ /g 把一个或者多个空格替换为一个空格。<br>:%s/ </em>$// 去掉行尾的所有空格。<br>:%s/^/ / 在每一行头上加入一个空格。<br>:%s/^[0-9][0-9]<em> // 去掉行首的所有数字字符。<br>:%s/b[aeio]g/bug/g 将所有的bag、beg、big和bog改为bug。<br>:%s/t([aou])g/h1t/g 将所有tag、tog和tug分别改为hat、hot和hug（注意用group的用法和使用1引用前面被匹配的字符）。<br>Sed<br>Sed是Stream EDitor的缩写，是Unix下常用的基于文件和管道的编辑工具，可以在手册中得到关于sed的详细信息。<br>这里是一些有趣的sed脚本，假定我们正在处理一个叫做price.txt的文件。注意这些编辑并不会改变源文件，sed只是处理源文件的每一行并 把结果显示在标准输出中（当然很容易使用重定向来定制）：<br>sed脚本 描述<br>sed ’s/^$/d’ price.txt 删除所有空行<br>sed ’s/^[ ]</em>$/d’ price.txt 删除所有只包含空格或者制表符的行<br>sed ’s/”//g’ price.txt 删除所有引号</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/正则表达式/" rel="tag"># 正则表达式</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/05/09/Torque安装配置过程及问题/" rel="next" title="Torque安装配置过程及问题">
                <i class="fa fa-chevron-left"></i> Torque安装配置过程及问题
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/14/Serv-U设置FTP-Passvie模式端口范围/" rel="prev" title="Serv-U设置FTP Passvie模式端口范围">
                Serv-U设置FTP Passvie模式端口范围 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="ZHANGCHI" />
          <p class="site-author-name" itemprop="name">ZHANGCHI</p>
           
              <p class="site-description motion-element" itemprop="description">DIYER糍粑,CIBA,糍粑学习的地方</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">81</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">24</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">81</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZHANGCHI</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  










  






  





  

  

  

  

  

</body>
</html>
