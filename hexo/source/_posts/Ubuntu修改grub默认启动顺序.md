---
title: Ubunut修改grub默认启动顺序
date: 2016-06-03 08:48:17
categories: Linux
tags: grub
---

在一台安装了Win7的电脑上面同时安装了Ubuntu 14.04后，在grub中，win7启动项是最后一个，为了把win7设置为默认启动项，需要更改grub设置。google了半天，发现更改/etc/default/grub是无效的，打开/boot/grub/grub.cfg，里面写着“DO NOT EDIT THIS FILE”，而且我发现即使更改了SET_DEFAULT后一旦执行update-grub，启动顺序还是不变，最后尝试更改/etc/grub.d目录下的文件名是可行的。默认情况下win7对应的文件名是30_os-prober，第一个linux系统对应的是10-linux，00是header，05是debian-theme，可见10是第一个启动项，只需要更改win7的文件名(06-09均可)即可改变启动顺序，经我测试，成功地修改了启动顺序。

具体做法：
```
sudo mv /etc/grub.d/30_os-prober /etc/grub.d/08_os-prober
```
```
sudo update-grub
#（这个命令会重新生成/boot/grub/grub.cfg）
```
